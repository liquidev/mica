# Checks that traits work.

# It should be possible to define an empty trait.
trait NothingDoer end

# A trait declaration returns the trait defined.
assert(trait Ergonomics end == Ergonomics)

# A trait is equal to itself, but two traits are not equal to each other.
assert(Ergonomics == Ergonomics)
assert(NothingDoer != Ergonomics)

# A trait can declare required functions.
trait Animal
   func speak()
   func eat(food)
end

# A trait can be implemented by a struct.
impl struct Dog
   func new(name) constructor = do
      @name = name
      @satiation = 0
   end

   # as Animal
   #    func speak() = print("bark!")
   #    func eat(food) = do
   #       @satiation = @satiation + food
   #    end
   # end
end

doggo = Dog.new("Floofer")
# Trait methods can be called on a value via shims provided by the trait's dtable.
Animal.speak(doggo)
Animal.eat(doggo, 10)
