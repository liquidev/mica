# A doubly-indirected variable (like above) can still be modified like usual.
set = nil
get = nil
func double_indirection_mut() = do
    val = 1
    (func () = do
        set = func (x) = val = x
        get = func () = val
    end)
end
setup = double_indirection_mut()
setup()
set(100)
assert(get() == 100)
